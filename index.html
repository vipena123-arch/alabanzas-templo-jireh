<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <title>Alabanzas Templo Jireh</title>
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="apple-mobile-web-app-title" content="Templo Jireh">
  <link rel="manifest" href="manifest.json">

  <link rel="icon" type="image/png" href="icono.png" />
  <link rel="apple-touch-icon" href="icono.png">

  <style>
    /* ESTILOS GENERALES */
    body { font-family: system-ui, -apple-system, sans-serif; margin: 0; padding: 0; background: #f3f4f6; color: #1f2937; transition: background 0.3s, color 0.3s; }
    
    header { background: #111827; color: white; padding: 1rem 1.2rem; text-align: center; position: relative; }
    header h1 { margin: 0; font-size: 1.4rem; display: flex; align-items: center; justify-content: center; gap: 10px; }
    .header-logo { height: 40px; width: auto; border-radius: 6px; }
    header p { margin: 0.25rem 0 0; font-size: 0.9rem; opacity: 0.8; }

    .theme-toggle { position: absolute; top: 1rem; right: 1rem; background: none; border: none; font-size: 1.5rem; cursor: pointer; filter: grayscale(1); transition: transform 0.2s; }
    .theme-toggle:active { transform: scale(0.9); }
    
    main { padding: 1rem; max-width: 95%; margin: 0 auto; }
    .layout { display: flex; flex-direction: column; gap: 1rem; }
    @media (min-width: 800px) { .layout { flex-direction: row; align-items: flex-start; } }
    
    .panel { background: white; border-radius: 12px; box-shadow: 0 2px 8px rgba(0,0,0,0.06); padding: 1rem; transition: background 0.3s, box-shadow 0.3s; }
    .panel h2 { margin-top: 0; font-size: 1.1rem; color: #111827; }
    .songs-panel { flex: 1; min-width: 0; }
    
    .tone-filters { display: flex; gap: 0.5rem; overflow-x: auto; padding-bottom: 0.5rem; margin-bottom: 1rem; -webkit-overflow-scrolling: touch; }
    .tone-btn { flex: 0 0 auto; padding: 0.6rem 1.2rem; border-radius: 20px; background: #f3f4f6; border: 1px solid #d1d5db; cursor: pointer; font-weight: 600; font-size: 0.95rem; color: #374151; transition: all 0.2s; }
    .tone-btn:hover { background: #e5e7eb; }
    .tone-btn.active { background: #2563eb; color: white; border-color: #2563eb; box-shadow: 0 2px 5px rgba(37, 99, 235, 0.3); }

    .search-box input { width: 100%; box-sizing: border-box; padding: 0.7rem; border-radius: 10px; border: 1px solid #d1d5db; font-size: 1rem; }

    .song-list { margin-top: 0.5rem; max-height: 60vh; overflow-y: auto; border-top: 1px solid #e5e7eb; padding-top: 0.5rem; }
    .song-item { padding: 0.7rem 0.4rem; border-bottom: 1px solid #f3f4f6; display: flex; flex-direction: column; }
    .song-item button { border: none; background: none; padding: 0; margin: 0; text-align: left; font-size: 1.05rem; color: #1d4ed8; text-decoration: none; font-weight: 500; cursor: pointer; }
    .song-item small { font-size: 0.85rem; color: #6b7280; margin-top: 0.2rem; }
    .song-item:last-child { border-bottom: none; }
    
    .detail-panel { flex: 2; min-width: 0; }
    .detail-box { border-radius: 10px; background: #f9fafb; border: 1px solid #e5e7eb; padding: 1rem; min-height: 200px; white-space: pre; font-family: Menlo, Monaco, Consolas, "Courier New", monospace; font-size: 1rem; overflow-x: auto; }

    .transposer-toolbar { display: flex; align-items: center; gap: 0.5rem; background: #f3f4f6; padding: 0.5rem; border-radius: 8px; margin-bottom: 1rem; justify-content: space-between; }
    .transposer-label { font-weight: 600; font-size: 0.9rem; color: #4b5563; }
    .transposer-controls { display: flex; gap: 5px; }
    .t-btn { background: white; border: 1px solid #d1d5db; border-radius: 6px; width: 36px; height: 36px; display: flex; align-items: center; justify-content: center; font-weight: bold; cursor: pointer; color: #374151; font-size: 1.1rem; transition: background 0.1s; }
    .t-btn:active { background: #e5e7eb; transform: scale(0.95); }
    .tone-indicator { font-weight: 700; color: #2563eb; min-width: 30px; text-align: center; align-self: center; }
    
    .chord-highlight { color: #2563eb; font-weight: 700; }
    .structure-highlight { color: #dc2626; font-weight: 800; text-transform: uppercase; display: inline-block; margin-top: 1em; margin-bottom: 0.2em; border-bottom: 2px solid rgba(220, 38, 38, 0.2); }

    .detail-header { display: flex; justify-content: space-between; align-items: baseline; gap: 0.5rem; margin-bottom: 0.5rem; }
    .detail-title { font-weight: 700; font-size: 1.3rem; color: #111827; }
    .detail-tone { font-size: 1rem; color: #4b5563; font-weight: 500; }
    
    .form-group { margin-bottom: 1rem; }
    .form-group label { display: block; margin-bottom: 0.4rem; font-weight: 600; color: #374151; }
    
    input[type="text"], textarea, select { width: 100%; box-sizing: border-box; padding: 0.7rem; border-radius: 8px; border: 1px solid #d1d5db; font-size: 1rem; }
    textarea { resize: vertical; min-height: 180px; font-family: monospace; line-height: 1.4; }
    
    .btn { display: inline-flex; align-items: center; justify-content: center; padding: 0.7rem 1.2rem; border-radius: 12px; border: none; cursor: pointer; font-size: 1rem; font-weight: 600; }
    .btn-primary { background: #2563eb; color: white; }
    .btn-secondary { background: #e5e7eb; color: #111827; margin-right: 0.5rem; margin-bottom: 0.5rem;}
    .danger-zone { margin-top: 2rem; border-top: 1px solid #fee2e2; padding-top: 1rem; }
    .btn-danger { background: #fee2e2; color: #991b1b; font-size: 0.85rem; padding: 0.5rem 1rem; }

    /* MODO NOCHE */
    body.dark-mode { background: #111827; color: #f3f4f6; }
    body.dark-mode .panel { background: #1f2937; box-shadow: 0 4px 6px rgba(0,0,0,0.3); }
    body.dark-mode .panel h2 { color: #f3f4f6; }
    body.dark-mode label { color: #d1d5db; }
    body.dark-mode .detail-title { color: #ffffff; }
    body.dark-mode .detail-tone { color: #9ca3af; }
    body.dark-mode input[type="text"], body.dark-mode textarea, body.dark-mode select { background: #374151; border-color: #4b5563; color: white; }
    body.dark-mode .song-item { border-bottom-color: #374151; }
    body.dark-mode .song-item button { color: #60a5fa; } 
    body.dark-mode .song-item small { color: #9ca3af; }
    body.dark-mode .detail-box { background: #111827; border-color: #374151; color: #e5e7eb; }
    body.dark-mode .transposer-toolbar { background: #111827; border: 1px solid #374151; }
    body.dark-mode .transposer-label { color: #9ca3af; }
    body.dark-mode .t-btn { background: #374151; border-color: #4b5563; color: white; }
    body.dark-mode .t-btn:active { background: #4b5563; }
    body.dark-mode .tone-indicator { color: #fbbf24; }
    body.dark-mode .chord-highlight { color: #fbbf24; } 
    body.dark-mode .structure-highlight { color: #ef4444; border-bottom-color: rgba(239, 68, 68, 0.3); }
    body.dark-mode .tone-btn { background: #374151; border-color: #4b5563; color: #e5e7eb; }
    body.dark-mode .tone-btn:hover { background: #4b5563; }
    body.dark-mode .tone-btn.active { background: #3b82f6; border-color: #3b82f6; color: white; }
    body.dark-mode .btn-secondary { background: #374151; color: white; }
  </style>
</head>
<body>
  <header>
    <h1>
      <img src="icono.png" alt="Logo" class="header-logo" />
      Alabanzas Templo Jireh La Florida
    </h1>
    <p>Selecciona un tono o busca por letra</p>
    <button class="theme-toggle" onclick="toggleTheme()" title="Cambiar tema">üåô</button>
  </header>

  <main>
    <div class="layout">
      <section class="panel songs-panel">
        <label style="display:block; margin-bottom:0.5rem; font-weight:600;">Filtrar por Tono:</label>
        <div class="tone-filters" id="toneFilterContainer">
          <button class="tone-btn active" onclick="filterByTone('ALL', this)">Todos</button>
          <button class="tone-btn" onclick="filterByTone('C', this)">Do</button>
          <button class="tone-btn" onclick="filterByTone('D', this)">Re</button>
          <button class="tone-btn" onclick="filterByTone('E', this)">Mi</button>
          <button class="tone-btn" onclick="filterByTone('F', this)">Fa</button>
          <button class="tone-btn" onclick="filterByTone('G', this)">Sol</button>
          <button class="tone-btn" onclick="filterByTone('A', this)">La</button>
          <button class="tone-btn" onclick="filterByTone('B', this)">Si</button>
        </div>

        <div class="search-box">
          <label for="filterName" style="display:none">Buscar</label>
          <input id="filterName" type="text" placeholder="üîç Buscar por nombre o letra..." />
        </div>

        <div id="songList" class="song-list"></div>

        <p style="text-align: center; margin-top: 15px; font-size: 0.8rem; opacity: 0.7;">
            App hecha por Vicente :)
        </p>
      </section>

      <section class="panel detail-panel">
        <h2>Detalle de la alabanza</h2>
        
        <div class="detail-header">
          <div>
            <div id="detailTitle" class="detail-title">Selecciona una alabanza</div>
            <div id="detailTone" class="detail-tone"></div>
          </div>
        </div>

        <div class="transposer-toolbar" id="transposerToolbar" style="display:none;">
            <span class="transposer-label">Transponer:</span>
            <div class="transposer-controls">
                <button class="t-btn" onclick="changeTranspose(-1)">-</button>
                <span id="transposeDisplay" class="tone-indicator">0</span>
                <button class="t-btn" onclick="changeTranspose(1)">+</button>
            </div>
        </div>

        <div id="detailLyrics" class="detail-box">Aqu√≠ aparecer√° la letra con acordes.</div>

        <hr style="margin: 1rem 0; border: none; border-top: 1px solid #e5e7eb;" />

        <h2>Gesti√≥n</h2>
        <div style="margin-bottom: 0.5rem; display:flex; flex-wrap:wrap; gap:0.5rem;">
          <button type="button" class="btn btn-secondary" id="newSongBtn">Nueva</button>
          <button type="button" class="btn btn-secondary" id="exportBtn">Exportar</button>
          <button type="button" class="btn btn-secondary" id="importBtn">Importar</button>
        </div>

        <form id="songForm">
          <div class="form-group">
            <label for="songName">Nombre de la alabanza</label>
            <input id="songName" type="text" required placeholder="Ej: Yo quiero m√°s de ti" />
          </div>
          <div class="form-group">
            <label for="songTone">Tono (Principal)</label>
            <select id="songTone" required>
                <option value="">-- Selecciona un tono --</option>
                <option value="Do Mayor">Do Mayor (C)</option>
                <option value="Do Menor">Do Menor (Cm)</option>
                <option value="Re Mayor">Re Mayor (D)</option>
                <option value="Re Menor">Re Menor (Dm)</option>
                <option value="Mi Mayor">Mi Mayor (E)</option>
                <option value="Mi Menor">Mi Menor (Em)</option>
                <option value="Fa Mayor">Fa Mayor (F)</option>
                <option value="Fa Menor">Fa Menor (Fm)</option>
                <option value="Sol Mayor">Sol Mayor (G)</option>
                <option value="Sol Menor">Sol Menor (Gm)</option>
                <option value="La Mayor">La Mayor (A)</option>
                <option value="La Menor">La Menor (Am)</option>
                <option value="Si Mayor">Si Mayor (B)</option>
                <option value="Si Menor">Si Menor (Bm)</option>
            </select>
          </div>
          <div class="form-group">
            <label for="songLyrics">Letra con acordes</label>
            <textarea id="songLyrics" required placeholder="Ej: [Intro] D G A ..."></textarea>
          </div>
          <button type="submit" class="btn btn-primary">Guardar cambios</button>
        </form>

        <div class="danger-zone">
            <p class="small">¬øAlgo sali√≥ mal?</p>
            <button class="btn btn-danger" onclick="resetToDefaults()">Restaurar canciones originales</button>
        </div>
      </section>
    </div>
  </main>

  <script>
    const STORAGE_KEY = "cancioneroAlabanzas";
    const THEME_KEY = "cancioneroTheme";
    const VERSION_KEY = "cancioneroVersion"; 
    
    // *** VERSI√ìN 4: LISTA NEGRA DE PALABRAS ***
    const APP_VERSION = 9; 

    // =========================================================
    // LISTA DE PALABRAS A IGNORAR (ESCRIBE AQU√ç LAS NUEVAS)
    // Escr√≠belas siempre en min√∫sculas y entre comillas " "
    // =========================================================
    const PALABRAS_IGNORADAS = [
        "en", "es", "el", "un", "una",
        "cada", "cuida", "david", "caminar", "con", "como", "cree", "cristo"
    ];

    // *** PEGA AQU√ç TU LISTA DE CANCIONES (reemplaza el null) ***
const CANCIONES_PREDEFINIDAS = 
    let songs = [];
    let selectedSongId = null;
    let currentToneFilter = "ALL"; 
    let currentTransposition = 0; 

    const TONE_REGEX = {
        "C": /^(do|c)\b/i, "D": /^(re|d)\b/i, "E": /^(mi|e)\b/i, "F": /^(fa|f)\b/i,
        "G": /^(sol|g)\b/i, "A": /^(la|a)\b/i, "B": /^(si|b)\b/i
    };

    const NOTES = ["C", "C#", "D", "D#", "E", "F", "F#", "G", "G#", "A", "A#", "B"];
    const FLATS = { "Db":"C#", "Eb":"D#", "Gb":"F#", "Ab":"G#", "Bb":"A#" };

    function transposeNote(note, semitones) {
        let normalized = FLATS[note] || note;
        let index = NOTES.indexOf(normalized);
        if (index === -1) return note; 
        let newIndex = (index + semitones) % 12;
        if (newIndex < 0) newIndex += 12;
        return NOTES[newIndex];
    }

    // --- FUNCI√ìN DE ACORDES CON LISTA DE EXCEPCIONES ---
    function formatLyrics(text, transposition) {
        if (!text) return "";

        // 1. Detectar Estructura
        let formatted = text.replace(/(\[?(?:verso|coro|estribillo|puente|intro|final|pre-coro|interludio)(?: \d+| [IVX]+)?\]?:?|primer verso|segundo verso|tercer verso)/gi, 
            '<span class="structure-highlight">$1</span>');

        // 2. Detectar Acordes
        const chordPattern = /\b([A-G](?:#|b)?)([a-z0-9#]*)(?:\/([A-G](?:#|b)?))?(?=\s|$|[.,\-])/g;
        
        formatted = formatted.replace(chordPattern, (match, root, suffix, bass) => {
            // A) REVISAR LISTA NEGRA: 
            // Convertimos la palabra encontrada a min√∫scula y revisamos si est√° en la lista
            // (match.trim() limpia espacios extra por seguridad)
            const palabraLimpia = match.toLowerCase().replace(/[.,]/g, '');
            if (PALABRAS_IGNORADAS.includes(palabraLimpia)) {
                return match; // Es una palabra prohibida (ej: "David"), no tocar.
            }

            // B) FILTRO DE SEGURIDAD EXTRA (Para palabras que se nos olviden poner en la lista)
            if (suffix && /[eortylkzns]/.test(suffix) && !/dim|aug|sus|min/.test(suffix)) {
                return match; 
            }

            let newRoot = root;
            if (transposition !== 0) {
                newRoot = transposeNote(root, transposition);
            }

            let newBass = "";
            if (bass) {
                if (transposition !== 0) {
                    newBass = "/" + transposeNote(bass, transposition);
                } else {
                    newBass = "/" + bass;
                }
            }

            return `<span class="chord-highlight">${newRoot}${suffix || ""}${newBass}</span>`;
        });

        return formatted;
    }

    function changeTranspose(amount) {
        currentTransposition += amount;
        const display = document.getElementById("transposeDisplay");
        if (currentTransposition > 0) display.textContent = "+" + currentTransposition;
        else display.textContent = currentTransposition;

        const song = songs.find(s => s.id === selectedSongId);
        if (song) {
            document.getElementById("detailLyrics").innerHTML = formatLyrics(song.lyrics, currentTransposition);
        }
    }

    function toggleTheme() {
        const body = document.body;
        const btn = document.querySelector('.theme-toggle');
        body.classList.toggle('dark-mode');
        if (body.classList.contains('dark-mode')) {
            localStorage.setItem(THEME_KEY, 'dark');
            btn.textContent = '‚òÄÔ∏è';
        } else {
            localStorage.setItem(THEME_KEY, 'light');
            btn.textContent = 'üåô';
        }
    }
    function loadTheme() {
        const savedTheme = localStorage.getItem(THEME_KEY);
        const btn = document.querySelector('.theme-toggle');
        if (savedTheme === 'dark') {
            document.body.classList.add('dark-mode');
            btn.textContent = '‚òÄÔ∏è';
        }
    }

    function normalizeText(text) {
        if (!text) return "";
        return text.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g, "");
    }

    function loadSongs() {
      const raw = localStorage.getItem(STORAGE_KEY);
      const savedVersion = parseInt(localStorage.getItem(VERSION_KEY) || "0");

      if (APP_VERSION > savedVersion && CANCIONES_PREDEFINIDAS) {
          console.log("Actualizando versi√≥n...");
          songs = JSON.parse(JSON.stringify(CANCIONES_PREDEFINIDAS));
          saveSongs(); 
          localStorage.setItem(VERSION_KEY, APP_VERSION); 
      } 
      else if (raw) {
        try {
          songs = JSON.parse(raw);
        } catch (e) {
          songs = CANCIONES_PREDEFINIDAS ? JSON.parse(JSON.stringify(CANCIONES_PREDEFINIDAS)) : [];
        }
      } 
      else {
        if (CANCIONES_PREDEFINIDAS) {
            songs = JSON.parse(JSON.stringify(CANCIONES_PREDEFINIDAS));
            saveSongs();
            localStorage.setItem(VERSION_KEY, APP_VERSION);
        } else { songs = []; }
      }
    }

    function saveSongs() { localStorage.setItem(STORAGE_KEY, JSON.stringify(songs)); }

    window.resetToDefaults = function() {
        if(confirm("Esto restaurar√° las canciones originales y borrar√° los cambios locales. ¬øSeguro?")) {
            if (CANCIONES_PREDEFINIDAS) {
                songs = JSON.parse(JSON.stringify(CANCIONES_PREDEFINIDAS));
                saveSongs();
                localStorage.setItem(VERSION_KEY, APP_VERSION);
                filterByTone('ALL', document.querySelector('.tone-btn'));
                startNewSong();
                alert("Lista restaurada.");
            } else { alert("No hay canciones predefinidas cargadas."); }
        }
    };

    function filterByTone(toneCode, btnElement) {
        currentToneFilter = toneCode;
        document.querySelectorAll('.tone-btn').forEach(b => b.classList.remove('active'));
        if(btnElement) btnElement.classList.add('active');
        renderSongList();
    }

    function renderSongList() {
      const listEl = document.getElementById("songList");
      const rawInput = document.getElementById("filterName").value.trim();
      const filterName = normalizeText(rawInput);
      listEl.innerHTML = "";
      const sorted = [...songs].sort((a, b) => {
        const nameA = (a.name || "").toLowerCase();
        const nameB = (b.name || "").toLowerCase();
        return nameA < nameB ? -1 : nameA > nameB ? 1 : 0;
      });
      const filtered = sorted.filter(song => {
        const toneTitle = (song.tone || "").trim();
        const nameNormalized = normalizeText(song.name || "");
        const lyricsNormalized = normalizeText(song.lyrics || "");
        let matchesTone = true;
        if (currentToneFilter !== "ALL") {
            const regex = TONE_REGEX[currentToneFilter];
            matchesTone = regex.test(toneTitle);
        }
        const combinedText = `${nameNormalized} ${lyricsNormalized}`;
        return matchesTone && (!filterName || combinedText.includes(filterName));
      });
      if (filtered.length === 0) {
        listEl.innerHTML = "<p class='small' style='padding:1rem; text-align:center'>No hay canciones con ese filtro.</p>";
        return;
      }
      filtered.forEach(song => {
        const item = document.createElement("div");
        item.className = "song-item";
        const button = document.createElement("button");
        button.type = "button";
        button.textContent = song.name || "(Sin nombre)";
        button.onclick = () => showSongDetail(song.id);
        const tone = document.createElement("small");
        tone.textContent = song.tone || "Sin tono";
        item.appendChild(button);
        item.appendChild(tone);
        listEl.appendChild(item);
      });
    }

    function showSongDetail(id) {
      const song = songs.find(s => s.id === id);
      selectedSongId = id;
      
      currentTransposition = 0;
      document.getElementById("transposeDisplay").textContent = "0";
      document.getElementById("transposerToolbar").style.display = "flex"; 

      const titleEl = document.getElementById("detailTitle");
      const toneEl = document.getElementById("detailTone");
      const lyricsEl = document.getElementById("detailLyrics");
      if (!song) {
        titleEl.textContent = "No seleccionada";
        toneEl.textContent = "";
        lyricsEl.textContent = "";
        document.getElementById("transposerToolbar").style.display = "none";
        return;
      }
      titleEl.textContent = song.name;
      toneEl.textContent = song.tone ? `Tono: ${song.tone}` : "";
      
      lyricsEl.innerHTML = formatLyrics(song.lyrics || "", 0);
      
      document.getElementById("songName").value = song.name || "";
      document.getElementById("songTone").value = song.tone || "";
      document.getElementById("songLyrics").value = song.lyrics || "";
    }

    function handleFormSubmit(event) {
      event.preventDefault();
      const name = document.getElementById("songName").value.trim();
      const tone = document.getElementById("songTone").value.trim();
      const lyrics = document.getElementById("songLyrics").value;
      if (!name || !tone || !lyrics) return alert("Completa todos los campos.");
      if (selectedSongId !== null) {
        const idx = songs.findIndex(s => s.id === selectedSongId);
        if (idx !== -1) {
          songs[idx].name = name; songs[idx].tone = tone; songs[idx].lyrics = lyrics;
        }
      } else {
        const newSong = { id: Date.now(), name, tone, lyrics };
        songs.push(newSong); selectedSongId = newSong.id;
      }
      saveSongs(); renderSongList(); showSongDetail(selectedSongId);
      alert("Guardado ‚úÖ");
    }

    function startNewSong() {
      selectedSongId = null;
      document.getElementById("songForm").reset();
      document.getElementById("detailTitle").textContent = "Nueva alabanza";
      document.getElementById("detailLyrics").textContent = "";
      document.getElementById("transposerToolbar").style.display = "none";
    }
    function exportSongs() {
      if (!songs.length) return alert("Nada que exportar.");
      const data = JSON.stringify(songs);
      navigator.clipboard?.writeText(data).then(() => alert("Copiado."), () => prompt("Copia:", data));
    }
    function importSongs() {
      const input = prompt("Pega el JSON:");
      if (!input) return;
      try {
        const parsed = JSON.parse(input);
        if (!Array.isArray(parsed)) throw new Error("Inv√°lido");
        songs = parsed; saveSongs(); renderSongList(); selectedSongId = null;
        alert("Importado ‚úÖ");
      } catch (e) { alert("Error al importar."); }
    }
    function setup() {
      loadTheme(); loadSongs(); renderSongList();
      document.getElementById("songForm").addEventListener("submit", handleFormSubmit);
      document.getElementById("filterName").addEventListener("input", renderSongList);
      document.getElementById("newSongBtn").addEventListener("click", startNewSong);
      document.getElementById("exportBtn").addEventListener("click", exportSongs);
      document.getElementById("importBtn").addEventListener("click", importSongs);
      
      // AUTO-RECARGA DE PWA
      if ("serviceWorker" in navigator) {
          let refreshing = false;
          navigator.serviceWorker.addEventListener('controllerchange', () => {
              if (!refreshing) { window.location.reload(); refreshing = true; }
          });
          window.addEventListener("load", () => {
            navigator.serviceWorker.register("sw.js").then(reg => { reg.update(); });
          });
      }
    }
    document.addEventListener("DOMContentLoaded", setup);
  </script>
</body>
</html>

